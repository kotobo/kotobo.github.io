(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-157cf0dc"],{"2dd8":function(e,t,n){"use strict";n.r(t);var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-fullscreen app-grey",attrs:{id:"sign-in"}},[n("div",{staticClass:"card"},[n("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"hide-required-asterisk":"","status-icon":"",disabled:e.status}},[n("el-form-item",{attrs:{label:"邮箱/账号",prop:"account"}},[n("el-input",{attrs:{"prefix-icon":"el-icon-message"},model:{value:e.form.account,callback:function(t){e.$set(e.form,"account",t)},expression:"form.account"}})],1),n("el-form-item",{attrs:{label:"密码",prop:"password"}},[n("el-input",{attrs:{type:"password","prefix-icon":"el-icon-more-outline"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),n("el-form-item",[n("p",[n("el-checkbox",{on:{change:e.keepSignConfirm},model:{value:e.keepSign,callback:function(t){e.keepSign=t},expression:"keepSign"}},[e._v("保存登陆状态")])],1),n("el-button",{attrs:{type:"primary",loading:e.status},on:{click:e.signIn}},[e._v("登陆")])],1),n("el-form-item",{staticClass:"text-align-center"},[n("p",[e._v("没有账号？\n\t\t\t\t\t"),n("Link",{attrs:{color:"blue"}},[e._v("立即注册")])],1),n("p",[n("Link",{attrs:{color:"grey"}},[e._v("忘记密码")])],1)])],1)],1)])},r=[],i=n("6ae4"),o=n("9f02"),a={name:"sign-in",data:function(){return{status:!1,form:{clientType:this.$store.getters.getClientType,clientToken:"",account:"",password:""},rules:{account:[{required:!0,message:"请输入账号",trigger:"blur"},{min:4,message:"账号至少有4个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:4,message:"密码至少有8个字符",trigger:"blur"}]},keepSign:!1}},methods:{registerClient:function(){var e=this;localStorage.getItem("clientToken")?this.form.clientToken=localStorage.getItem("clientToken"):Object(i["a"])(this.form.clientType).then(function(t){localStorage.setItem("clientToken",t.data),e.form.clientToken=t.data})},checkSign:function(){this.$store.getters.getAccessToken&&(this.$message.warning("请勿重复登陆"),this.$router.push("/"))},keepSignConfirm:function(e){var t=this;e&&this.$confirm("请确认在你正在个人设备上保存账号","提示",{confirmButtonText:"是的",cancelButtonText:"不是",type:"warning",center:!0}).catch(function(){t.keepSign=!1})},signIn:function(){var e=this;this.status=!0,this.$refs.form.validate(function(t){if(!t)return e.status=!1,!1;Object(o["b"])(e.form).then(function(t){t.status?(e.$store.commit("setAccessToken",t.data.accessToken),e.keepSign?localStorage.setItem("signToken",t.data.signToken):sessionStorage.setItem("signToken",t.data.signToken),e.$router.push("/10086")):(e.$message.warning(t.message),e.status=!1)})})}},mounted:function(){this.registerClient()}},c=a,u=(n("de1c"),n("2877")),l=Object(u["a"])(c,s,r,!1,null,"6fda38fe",null);l.options.__file="index.vue";t["default"]=l.exports},"6ae4":function(e,t,n){"use strict";var s=n("365c"),r=n("bc3a"),i=n.n(r),o=n("4360"),a=i.a.create({baseURL:s["a"].common});a.interceptors.request.use(function(e){var t=o["a"].getters.getAccessToken;return t&&(e.headers["Access-Token"]=t),e},function(e){return Promise.reject(e)}),a.interceptors.response.use(function(e){var t=e.data;switch(t.code){case 200:return t.status=!0,t}return e},function(e){return Promise.reject(e)});var c=a;function u(e){return c({url:"/client/register",method:"get",params:{type:e}})}n.d(t,"a",function(){return u})},de1c:function(e,t,n){"use strict";var s=n("f6d7"),r=n.n(s);r.a},f6d7:function(e,t,n){}}]);